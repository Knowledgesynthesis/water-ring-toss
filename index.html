<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Water Ring Toss 3D - Debug</title>
<style>
  * { margin: 0; padding: 0; }
  body { overflow: hidden; background: #000; }
  #info {
    position: absolute;
    top: 10px;
    left: 10px;
    color: white;
    font-family: monospace;
    background: rgba(0,0,0,0.7);
    padding: 10px;
    z-index: 100;
  }
</style>
</head>
<body>
  <div id="info">Loading...</div>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script>
    const info = document.getElementById('info');

    try {
      info.innerHTML = 'Three.js loaded: ' + (typeof THREE !== 'undefined') + '<br>';

      if (typeof THREE === 'undefined') {
        throw new Error('THREE is not defined - CDN failed to load');
      }

      // Scene
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0x1a1a2e);
      info.innerHTML += 'Scene created<br>';

      // Camera
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 5;
      info.innerHTML += 'Camera created<br>';

      // Renderer
      const renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      info.innerHTML += 'Renderer created<br>';

      // Add a simple cube
      const geometry = new THREE.BoxGeometry(2, 2, 2);
      const material = new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe: true });
      const cube = new THREE.Mesh(geometry, material);
      scene.add(cube);
      info.innerHTML += 'Cube added<br>';

      // Add lights and more objects
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);

      const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
      dirLight.position.set(5, 10, 5);
      scene.add(dirLight);

      // Add colored rings
      const ringColors = [0xff6b6b, 0xffd166, 0x06d6a0, 0x4cc9f0, 0xa78bfa, 0xf472b6];
      const rings = [];

      for (let i = 0; i < 6; i++) {
        const ringGeo = new THREE.TorusGeometry(0.5, 0.1, 16, 32);
        const ringMat = new THREE.MeshStandardMaterial({ color: ringColors[i] });
        const ring = new THREE.Mesh(ringGeo, ringMat);
        ring.position.x = (i % 3 - 1) * 2;
        ring.position.y = Math.floor(i / 3) * 2 - 1;
        scene.add(ring);
        rings.push(ring);
      }

      info.innerHTML += 'Rings added<br>';
      info.innerHTML += 'Starting animation...<br>';

      let frameCount = 0;

      // Animation loop
      function animate() {
        requestAnimationFrame(animate);

        frameCount++;
        if (frameCount % 60 === 0) {
          info.innerHTML = 'Rendering... Frame: ' + frameCount + '<br>Camera: ' + camera.position.z;
        }

        cube.rotation.x += 0.01;
        cube.rotation.y += 0.01;

        rings.forEach((ring, i) => {
          ring.rotation.y += 0.02 * (i + 1);
        });

        renderer.render(scene, camera);
      }

      animate();

      // Window resize
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      info.innerHTML += '<span style="color:#0f0">âœ“ All systems working!</span>';

    } catch (error) {
      info.innerHTML += '<br><span style="color:#f00">ERROR: ' + error.message + '</span>';
      console.error(error);
    }
  </script>
</body>
</html>
